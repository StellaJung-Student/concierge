<div class="container">
  <div class="columns">
    <div class="col-1">
      <input class="form-input" type="text" placeholder="Filter for images..." data-bind="textInput: imageFilter" />
    </div>

    <div class="divider-vert"></div>
    
    <div class="col-1">
      <button class="btn btn-md" data-bind="click: refresh">Refresh</button>
    </div>

    <div class="col-10"></div>
  </div>
</div>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Tag</th>
      <th>Size</th>
      <th>Created</th>
      <th></th>
    </tr>
  </thead>
  <tbody data-bind="foreach: filteredImages">
    <tr>
      <td data-bind="text: name"></td>
      <td data-bind="text: $parent.toMb(Size)"></td>
      <td data-bind="text: $parent.toDate(Created)"></td>
      <td>
        <button class="btn btn-md" data-bind="click: function() { $parent.configureImage($data) }">Run</button>
        <button class="btn btn-md" data-bind="click: $parent.removeImage">Remove</button>
      </td>
    </tr>
  </tbody>
</table>

<div class="modal" data-bind="css: { active: modalActive }">
  <div class="modal-overlay" data-bind="click: hideModal"></div>
  <div class="modal-container">
    <div class="modal-header">
      <button class="btn btn-clear float-right" data-bind="click: hideModal"></button>
      <div class="modal-title">
        <strong>Image:</strong> <span data-bind="text: modalImage().name"></span>
      </div>
    </div>
    <div class="modal-body">
      <div class="content">
        <form>
          <div class="form-group">
            <label class="form-label">Name</label>
            <input class="form-input" type="text" data-bind="textInput: newContainer.name" placeholder="Vanity name..." />
          </div>


          <!-- ko if: newContainer.ports().length > 0 -->
          <div class="divider"></div>
          <strong>Expose Ports:</strong>

          <!-- ko foreach: newContainer.ports -->
          <div class="form-group">
            <label class="form-switch">
                  <input type="checkbox" />
                  <i class="form-icon" data-bind="click: function() { expose(!expose()); return true }"></i><span data-bind="text: port + '/' + type"></span>
              </label>
          </div>
          <!-- /ko -->
          <!-- /ko -->


          <!-- ko if: newContainer.volumes().length > 0 -->
          <div class="divider"></div>
          <strong>Volumes:</strong>

          <!-- ko foreach: newContainer.volumes -->
          <div class="form-group">
            <label class="form-label" data-bind="text: path"></label>
            <input class="form-input" type="text" data-bind="textInput: hostPath" placeholder="Host path mount" />
          </div>
          <!-- /ko -->
          <!-- /ko -->

          <!-- ko if: newContainer.envs().length > 0 -->
          <div class="divider"></div>
          <strong>Environment Variables:</strong>

          <!-- ko foreach: newContainer.envs -->
          <div class="form-group">
            <label class="form-label" data-bind="text: key"></label>
            <input class="form-input" type="text" data-bind="textInput: value" />
          </div>
          <!-- /ko -->
          <!-- /ko -->

        </form>
      </div>

    </div>
    <div class="modal-footer">
      <button class="btn btn-md" data-bind="click: runContainer, disable: creatingContainer">Run</button>
    </div>
  </div>
</div>